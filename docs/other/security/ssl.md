SSL Strip 利用了大多数用户访问 SSL 网站的方式。大多数访问者连接到通过 302 重定向进行重定向的网站页面，或者通过非 SSL 网站的链接到达 SSL 页面。攻击者篡改服务器返回的重定向请求，使用户的请求无法正常重定向为 HTTPS。

![](/img/other/strip.png!large)

在 SSL Strip 中，攻击者干预了 HTTP 到安全 HTTPS 协议的重定向，并拦截了用户到服务器的请求。 然后，攻击者将继续在自己和服务器之间建立 HTTPS 连接，并与用户建立不安全的 HTTP 连接，充当它们之间的 “桥梁”。

**在开放免费的 Wifi 中，这种攻击尤为常见。**

## 为什么开放的 Wi-Fi 热点很危险？

SSL Strip 攻击可以通过多种方式实施。 最常见的方法是创建热点并允许受害者连接到该热点。 许多攻击者使用与合法热点名称相似的名称来建立伪造的热点，例如 “星巴克咖啡” 而不是 “星巴克”。 用户不知道连接到恶意热点。 一旦用户尝试连接到服务器，攻击者便会使用其对热点的控制来攻击用户。
![](/img/other/HYjPaNPUCJ.png!large)

## HSTS

使用 HSTS 可以有效的解决这个问题，只要用户曾经使用过 HTTPS 访问网站，以后的请求中，浏览器会自动化把 HTTP 重定向为 HTTPS。因为重定向的过程在浏览器中发生，不需要请求服务器，所以中间人就无法进行攻击了。

## HSTS Preloading list

如果用户第一次访问网站，即使使用了 HSTS, 中间人还是有机可乘的（因为浏览器还没有记录 HSTS 头部）。可以把网站加入 `HSTS Preloading list` 解决这个问题。  
HSTS preload list 是 Chrome 维护的 HSTS 预载入列表，用户访问某个网站，如果浏览器 HSTS preload list 预存了该网站的域名，即使用户从来没有访问过该网站，浏览器也会自动重定向到 HTTPS 访问。

## 参考资料

[什么是 SSL Strip 攻击？](https://learnku.com/security/t/42552)
